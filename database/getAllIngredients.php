<?php 

    require_once 'connect_db.php';

    // Start the session
    if (!isset($_SESSION)) { 
        session_start(); 
    } 

    if ($_SERVER['REQUEST_METHOD'] === 'GET') {
        // will be replaced with a query to the database to get all ingredients
        // this is just a test data
        $data = [
            ["Code", "Name", "Dry matter", "Crude protein", "Digestible Protein", "Total lipid", "Carbohydrate", "Total phosphorus", "Calcium", "Ash", "Gross energy", "Digestible energy", "Alanine", "Arginine", "Aspartic acid", "Cysteine", "Glutamic acid", "Glycine", "Histidine", "Isoleucine", "Leucine", "Lysine", "Methionine", "Phenylalanine", "Proline", "Serine", "Taurine", "Threonine", "Tyrosine", "Valine", "C14:0", "C16:0", "C16:1", "C18:0", "C18:1", "C18:2n-6", "C18:3n-3", "C20:4n-6", "C20:5n-3", "C22:6n-3", "SFA", "MUFA", "PUFA", "lcPUFA", "LC n-3", "LC n-6"],
            ["a1", "Fishmeal (anchovey)", 922, 688, 585, 65, 19, 24, 45, 150, 19, 15, 39, 35, 61, 2, 84, 37, 19, 25, 46, 52, 18, 24, 25, 24, 6, 26, 19, 31, 4.0, 13.4, 4.0, 3.2, 5.3, 0.7, 0.5, 0.7, 8.6, 11.0, 21.2, 12.3, 25.2, 22.3, 21.2, 1.1],
            ["a5", "Poultry meal", 950, 660, 561, 141, 7, 22, 11, 142, 21, 19, 43, 45, 52, 11, 82, 61, 12, 25, 46, 36, 14, 25, 49, 35, 3, 27, 18, 27, 1.4, 22.6, 4.9, 7.3, 44.1, 11.9, 2.2, 0.5, 0.8, 1.3, 32.3, 53.0, 17.8, 3.3, 2.5, 0.8],
            ["a10", "Meat meal", 952, 500, 425, 109, 71, 49, 115, 272, 17, 16, 38, 34, 37, 1, 63, 75, 8, 11, 29, 26, 7, 17, 44, 20, 0, 16, 10, 21, 2.9, 23.5, 2.2, 18.4, 29.1, 1.3, 0.2, 0.1, 0.0, 0.0, 45.9, 33.3, 1.8, 0.2, 0.1, 0.1],
            ["g1", "Wheat flour", 900, 915, 919, 946, 0, 0, 0, 0, 950, 920, 920, 990, 120, 400, 739, 605, 920, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 72, 320, 591, 484, 782, 782, 54, 0, 0, 12, 66, 42, 20, 752, 417, 131, 253],
            ["g3", "Dehulled lupins", 950, 950, 920, 920, 0, 0, 0, 0, 0, 0, 110, 0, 210, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 5, 0, 0, 0, 294, 0, 16, 32, 7, 68, 0, 0, 403, 920],
            ["g5", "Wheat gluten", 0, 0, 0, 0, 950, 950, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 19, 21, 19.7, 23, 23, 13, 0, 0, 10, 14, 20, 16, 20.7, 20.7, 8],
            ["g9", "Soy protein concentrate", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 12, 19, 25, 0, 0, 0, 0, 0, 5, 39, 26, 41, 0, 0, 0],
            ["p5", "Methionine", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 40, 25, 72, 0, 0, 0, 0, 0, 3, 1, 20, 10, 0, 0, 0],
            ["p6", "Lysine", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 83, 299, 116, 0, 0, 0, 0, 0, 4, 15, 25, 25, 0, 0, 0],
            ["p11", "Vit Min Pmx", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 13, 14, 0, 0, 0, 0, 0, 3, 14, 28, 26, 0, 0, 0],
            ["p12", "Phosphate 21%", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 24, 53, 46, 0, 0, 0, 0, 0, 4, 18, 11, 39, 0, 920, 0],
            ["p13", "Yttrium oxide", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 9, 4, 0, 0, 0, 0, 0, 5, 15, 17, 11, 0, 0, 0],
            ["p15", "Fish oil", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 5, 7, 0, 0, 0, 0, 0, 4, 15, 17, 20, 0, 0, 0]
        ];
        echo json_encode($data);
    }
